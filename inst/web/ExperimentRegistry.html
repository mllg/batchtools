<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<title>ExperimentRegistry. batchtools 0.1</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="">

<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/bootstrap-responsive.css" rel="stylesheet">
<link href="css/highlight.css" rel="stylesheet">
<link href="css/staticdocs.css" rel="stylesheet">

<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  </head>

  <body>
    <div class="navbar">
  <div class="navbar-inner">
    <div class="container">
      <a class="brand" href="#">batchtools 0.1</a>
      <div class="nav">
        <ul class="nav">
          <li><a href="index.html"><i class="icon-home icon-white"></i> Index</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>

    <div class="container">
      <header>
        
      </header>
      
      <h1>ExperimentRegistry Constructor</h1>

<div class="row">
  <div class="span8">
    <h2>Usage</h2>
    <pre><div>makeExperimentRegistry(...)</div>
<div>makeTempExperimentRegistry(make.default&nbsp;=&nbsp;FALSE, temp.dir&nbsp;=&nbsp;getOption("batchtools.temp.dir", tempdir()), ...)</div></pre>
    
    <h2>Arguments</h2>
    <dl>
      <dt>...</dt>
      <dd>[<code>ANY</code>]
Arguments passed to <code><a href='Registry.html'>Registry</a></code>.</dd>
      <dt>make.default</dt>
      <dd>[<code>logical(1)</code>]
If set to <code>TRUE</code>, the created registry is saved inside the package
namespace and acts as default registry. You might want to switch this
off if you work with multiple registries simultaneously.
Default is <code>TRUE</code>.</dd>
      <dt>temp.dir</dt>
      <dd>[<code>character(1)</code>]
Path to temporary directory.
Defaults to the value of the option &#147;batchtools.temp.dir&#148; or (if unset) <code><a href='http://www.inside-r.org/r-doc/base/tempfile'>tempdir</a></code>.</dd>
    </dl>
    
    <div class="Value">
      <h2>Value</h2>

      <p><dl>
[<code>ExperimentRegistry</code>].
</dl></p>
  
    </div>

    <div class="Description">
      <h2>Description</h2>

      <p><code>makeExperimentRegistry</code> constructs a special <code><a href='Registry.html'>Registry</a></code> which
is suitable for the definition of large scale computer experiments.</p>
  
      <p>Each experiments consists of a <code><a href='ProblemAlgorithm.html'>Problem</a></code> and an <code><a href='ProblemAlgorithm.html'>Algorithm</a></code>.
These can be parametrized with <code><a href='addExperiments.html'>addExperiments</a></code> to actually define computational
jobs.</p>
  
    </div>
    
    <h2 id="examples">Examples</h2>
    <pre class="examples"><div class='input'>reg = makeTempExperimentRegistry(make.default = FALSE)
</div>
<strong class='message'>Sourcing configuration file &#39;~/.batchtools.conf.r&#39; ...</strong>
<div class='input'>addProblem(reg = reg, &quot;p1&quot;,
  fun = function(job, data, n, mean, sd, ...) rnorm(n, mean = mean, sd = sd))
addAlgorithm(reg = reg, &quot;a1&quot;, fun = function(job, data, instance, ...) mean(instance))
addExperiments(reg = reg, list(p1 = CJ(n = 100, mean = -3:3, sd = 1:5)), list(a1 = data.table()))
</div>
<strong class='message'>Adding 35 experiments (&#39;p1&#39;[35] x &#39;a1&#39;[1] x repls[1]) ...</strong>
<div class='input'>submitJobs(reg = reg)
</div>
<strong class='message'>Submitting 35 jobs in 35 chunks using cluster functions &#39;Interactive&#39; ...</strong>
<strong class='message'>Syncing 35 files ...</strong>
<div class='input'>waitForJobs(reg = reg)
</div>
<div class='output'>[1] TRUE
</div>
<div class='input'>
# Reduce the results
reduceResults(reg = reg, fun = function(aggr, res, ...) c(aggr, res))
</div>
<div class='output'> [1] -2.9463564826 -2.9711932263 -2.9532038665 -3.0779162147 -3.3424613084
 [6] -1.8934493553 -1.9649475178 -1.4783455906 -1.6240005976 -2.3204591360
[11] -0.8457382585 -0.9423375720 -1.5301714823 -0.9679142130 -0.6999183051
[16]  0.0168969818 -0.0002059871  0.0324840444 -0.2551772015 -0.7480266454
[21]  0.9582609318  0.9037612198  0.9424993109  1.2286353284  0.9693251065
[26]  1.9006508163  1.9753077016  2.1323716675  1.6167209449  1.7298179855
[31]  2.9775108826  2.8612979363  3.1774325096  2.4166461563  3.0381321612
</div>
<div class='input'>
# Join info table with results
ids = findDone(reg = reg)
tab = getJobPars(reg = reg, ids = ids)
res = reduceResultsDataTable(reg = reg, ids = ids)
tab[res]
</div>
<div class='output'>    job.id problem algorithm   n mean sd            V1
 1:      1      p1        a1 100   -3  1 -2.9463564826
 2:      2      p1        a1 100   -3  2 -2.9711932263
 3:      3      p1        a1 100   -3  3 -2.9532038665
 4:      4      p1        a1 100   -3  4 -3.0779162147
 5:      5      p1        a1 100   -3  5 -3.3424613084
 6:      6      p1        a1 100   -2  1 -1.8934493553
 7:      7      p1        a1 100   -2  2 -1.9649475178
 8:      8      p1        a1 100   -2  3 -1.4783455906
 9:      9      p1        a1 100   -2  4 -1.6240005976
10:     10      p1        a1 100   -2  5 -2.3204591360
11:     11      p1        a1 100   -1  1 -0.8457382585
12:     12      p1        a1 100   -1  2 -0.9423375720
13:     13      p1        a1 100   -1  3 -1.5301714823
14:     14      p1        a1 100   -1  4 -0.9679142130
15:     15      p1        a1 100   -1  5 -0.6999183051
16:     16      p1        a1 100    0  1  0.0168969818
17:     17      p1        a1 100    0  2 -0.0002059871
18:     18      p1        a1 100    0  3  0.0324840444
19:     19      p1        a1 100    0  4 -0.2551772015
20:     20      p1        a1 100    0  5 -0.7480266454
21:     21      p1        a1 100    1  1  0.9582609318
22:     22      p1        a1 100    1  2  0.9037612198
23:     23      p1        a1 100    1  3  0.9424993109
24:     24      p1        a1 100    1  4  1.2286353284
25:     25      p1        a1 100    1  5  0.9693251065
26:     26      p1        a1 100    2  1  1.9006508163
27:     27      p1        a1 100    2  2  1.9753077016
28:     28      p1        a1 100    2  3  2.1323716675
29:     29      p1        a1 100    2  4  1.6167209449
30:     30      p1        a1 100    2  5  1.7298179855
31:     31      p1        a1 100    3  1  2.9775108826
32:     32      p1        a1 100    3  2  2.8612979363
33:     33      p1        a1 100    3  3  3.1774325096
34:     34      p1        a1 100    3  4  2.4166461563
35:     35      p1        a1 100    3  5  3.0381321612
    job.id problem algorithm   n mean sd            V1
</div></pre>
  </div>
  <div class="span4">
    <!-- <ul>
      <li>ExperimentRegistry</li><li>makeExperimentRegistry</li><li>makeTempExperimentRegistry</li>
    </ul>
    <ul>
      
    </ul> -->
      
        
  </div>
</div>
      
      <footer>
      <p class="pull-right"><a href="#">Back to top</a></p>
<p>Built by <a href="https://github.com/hadley/staticdocs">staticdocs</a>. Styled with <a href="https://getbootstrap.com/2.0.4/">bootstrap</a>.</p>
      </footer>
    </div>
  </body>
</html>