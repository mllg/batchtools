<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<title>submitJobs. batchtools 0.1</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="">

<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/bootstrap-responsive.css" rel="stylesheet">
<link href="css/highlight.css" rel="stylesheet">
<link href="css/staticdocs.css" rel="stylesheet">

<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  </head>

  <body>
    <div class="navbar">
  <div class="navbar-inner">
    <div class="container">
      <a class="brand" href="#">batchtools 0.1</a>
      <div class="nav">
        <ul class="nav">
          <li><a href="index.html"><i class="icon-home icon-white"></i> Index</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>

    <div class="container">
      <header>
        
      </header>
      
      <h1>Submit Jobs to the Batch Systems</h1>

<div class="row">
  <div class="span8">
    <h2>Usage</h2>
    <pre><div>submitJobs(ids&nbsp;=&nbsp;NULL, resources&nbsp;=&nbsp;list(), reg&nbsp;=&nbsp;getDefaultRegistry())</div></pre>
    
    <h2>Arguments</h2>
    <dl>
      <dt>ids</dt>
      <dd>[<code><a href='http://www.inside-r.org/r-doc/base/data.frame'>data.frame</a></code> or <code>integer</code>]
A <code><a href='http://www.inside-r.org/r-doc/base/data.frame'>data.frame</a></code> (or <code><a href='http://www.inside-r.org/packages/cran/data.table/docs/data.table'>data.table</a></code>)
with a column named &#147;job.id&#148;.
Alternatively, you may also pass a vector of integerish job ids.
If not set, defaults to the return value of <code><a href='findJobs.html'>findNotSubmitted</a></code>.</dd>
      <dt>resources</dt>
      <dd>[<code>named list</code>]
Computational  resources for the batch jobs. The elements of this list
(e.g. something like &#147;walltime&#148; or &#147;nodes&#148;) depend on your template file.
See notes for reserved special resource names.
Defaults can be set in the <code><a href='Registry.html'>Registry</a></code> via the variable <code>default.resources</code> as a named list.
The setting can be made permanent for all future registries by setting this variable in your configuration file.
Individual settings set via <code>resources</code> <code>resources</code> overrule those in <code>default.resources</code>.</dd>
      <dt>reg</dt>
      <dd>[<code><a href='Registry.html'>Registry</a></code>]
Registry. If not explicitly passed, uses the last created registry.</dd>
    </dl>
    
    <div class="Value">
      <h2>Value</h2>

      <p><dl>
[<code><a href='http://www.inside-r.org/packages/cran/data.table/docs/data.table'>data.table</a></code>]. Table with columns &#147;job.id&#148; and &#147;chunk&#148;.
  See <code><a href='JoinTables.html'>JoinTables</a></code> for examples on working with job tables.
</dl></p>
  
    </div>

    <div class="Description">
      <h2>Description</h2>

      <p>Submits all jobs defined with <code><a href='batchMap.html'>batchMap</a></code> to the batch system.</p>
  
      <p>If an additional column &#147;chunk&#148; is present in the table <code>ids</code>,
the jobs will be grouped accordingly. See <code><a href='chunkIds.html'>chunkIds</a></code> for more
information.</p>
  
      <p>After submitting the jobs, you can use <code><a href='waitForJobs.html'>waitForJobs</a></code> to wait for the
termination of jobs or immediately call <code><a href='reduceResultsList.html'>reduceResultsList</a></code>/<code><a href='reduceResults.html'>reduceResults</a></code>
to collect partial results.
The progress can be monitored with <code><a href='getJobTable.html'>getJobStatus</a></code>.</p>
  
    </div>

    <div class="Note">
      <h2>Note</h2>

      <p>Setting <code>measure.memory</code> to <code>TRUE</code> turns on memory measurement: <code><a href='http://www.inside-r.org/r-doc/base/gc'>gc</a></code> is called  directly before
and after the job and the difference is stored in the internal database. Note that this is just a rough estimate and does
neither work reliably for external code like C/C++ nor in combination with threading.</p>
  
      <p>Furthermore, the package provides support for inner parallelization using threading, sockets or MPI via the
package <span class = "pkg">parallelMap</span>.
If you set the resource &#147;pm.backend&#148; to &#147;multicore&#148;, &#147;socket&#148; or &#147;mpi&#148;,
<code><a href='http://www.inside-r.org/packages/cran/parallelMap/docs/parallelStart'>parallelStart</a></code> is called on the slave before the first job in the chunk is started
and <code><a href='http://www.inside-r.org/packages/cran/parallelMap/docs/parallelStop'>parallelStop</a></code> is called after the last job terminated.
This way, the used resources for inner parallelization are set in the same place as the resources for the outer parallelization and
get automatically stored in the <code><a href='Registry.html'>Registry</a></code>.
The user function just has to call <code><a href='http://www.inside-r.org/packages/cran/parallelMap/docs/parallelMap'>parallelMap</a></code> to start parallelization to use the configured backend.</p>
  
      <p>You may set the resource <code>ncpus</code> to control the number of CPUs to use in <span class = "pkg">parallelMap</span>.
<code>ncpus</code> defaults to the number of available CPUs (as reported by (see <code><a href='http://www.inside-r.org/r-doc/parallel/detectCores'>detectCores</a></code>))
on the executing machine for multicore and socket mode and defaults to the return value of <code><a href='http://www.inside-r.org/packages/cran/Rmpi/docs/mpi.universe.size'>mpi.universe.size</a>-1</code> for MPI.
Furthermore, you can set the <code>level</code> for <code><a href='http://www.inside-r.org/packages/cran/parallelMap/docs/parallelMap'>parallelMap</a></code> via &#147;pm.level&#148;.</p>
  
      <p>Note that your template must be set up to handle the parallelization, e.g. start R with <code>mpirun</code> or request the correct number of CPUs.</p>
  
      <p>If you have thousands of jobs, disabling the progress bar (<code>options(batchtools.progress = FALSE)</code>)
can significantly increase the performance.</p>
  
    </div>
      </div>
  <div class="span4">
    <!-- <ul>
      <li>submitJobs</li>
    </ul>
    <ul>
      
    </ul> -->
      
        
  </div>
</div>
      
      <footer>
      <p class="pull-right"><a href="#">Back to top</a></p>
<p>Built by <a href="https://github.com/hadley/staticdocs">staticdocs</a>. Styled with <a href="https://getbootstrap.com/2.0.4/">bootstrap</a>.</p>
      </footer>
    </div>
  </body>
</html>