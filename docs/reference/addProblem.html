<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Define Problems for Experiments — addProblem • batchtools</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
<meta property="og:title" content="Define Problems for Experiments — addProblem" />

<meta property="og:description" content="Problems may consist of up to two parts: A static, immutable part (data in addProblem)
and a dynamic, stochastic part (fun in addProblem).
For example, for statistical learning problems a data frame would be the static problem part while
a resampling function would be the stochastic part which creates problem instance.
This instance is then typically passed to a learning algorithm like a wrapper around a statistical model
(fun in addAlgorithm).
This function serialize all components to the file system and registers the problem in the ExperimentRegistry.
removeProblem removes all jobs from the registry which depend on the specific problem.
reg$problems holds the IDs of already defined problems." />
<meta name="twitter:card" content="summary" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">batchtools</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.9.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/batchtools.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/mllg/batchtools">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Define Problems for Experiments</h1>
    <small>Source: <a href='https://github.com/mllg/batchtools/blob/master/R/Problem.R'><code>R/Problem.R</code></a></small>
    </div>

    
    <p>Problems may consist of up to two parts: A static, immutable part (<code>data</code> in <code>addProblem</code>)
and a dynamic, stochastic part (<code>fun</code> in <code>addProblem</code>).
For example, for statistical learning problems a data frame would be the static problem part while
a resampling function would be the stochastic part which creates problem instance.
This instance is then typically passed to a learning algorithm like a wrapper around a statistical model
(<code>fun</code> in <code><a href='addAlgorithm.html'>addAlgorithm</a></code>).</p>
<p>This function serialize all components to the file system and registers the problem in the <code><a href='makeExperimentRegistry.html'>ExperimentRegistry</a></code>.</p>
<p><code>removeProblem</code> removes all jobs from the registry which depend on the specific problem.
<code>reg$problems</code> holds the IDs of already defined problems.</p>
    

    <pre class="usage"><span class='fu'>addProblem</span>(<span class='no'>name</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>fun</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>seed</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>cache</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>reg</span> <span class='kw'>=</span> <span class='fu'><a href='getDefaultRegistry.html'>getDefaultRegistry</a></span>())

<span class='fu'>removeProblems</span>(<span class='no'>name</span>, <span class='kw'>reg</span> <span class='kw'>=</span> <span class='fu'><a href='getDefaultRegistry.html'>getDefaultRegistry</a></span>())</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>name</th>
      <td><p>[<code>character(1)</code>]<br />
Unique identifier for the problem.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>[<code>ANY</code>]<br />
Static problem part. Default is <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>fun</th>
      <td><p>[<code>function</code>]<br />
The function defining the stochastic problem part.
The static part is passed to this function with name &#8220;data&#8221; and the <code><a href='JobExperiment.html'>Job</a></code>/<code><a href='JobExperiment.html'>Experiment</a></code>
is passed as &#8220;job&#8221;.
Therefore, your function must have the formal arguments &#8220;job&#8221; and &#8220;data&#8221; (or dots <code>...</code>).
If you do not provide a function, it defaults to a function which just returns the data part.</p></td>
    </tr>
    <tr>
      <th>seed</th>
      <td><p>[<code>integer(1)</code>]<br />
Start seed for this problem. This allows the &#8220;synchronization&#8221; of a stochastic
problem across algorithms, so that different algorithms are evaluated on the same stochastic instance.
If the problem seed is defined, the seeding mechanism works as follows:
(1) Before the dynamic part of a problem is instantiated,
the seed of the problem + [replication number] - 1 is set, i.e. the first
replication uses the problem seed. (2) The stochastic part of the problem is
instantiated. (3) From now on the usual experiment seed of the registry is used,
see <code><a href='makeExperimentRegistry.html'>ExperimentRegistry</a></code>.
If <code>seed</code> is set to <code>NULL</code> (default), the job seed is used to instantiate the problem and
different algorithms see different stochastic instances of the same problem.</p></td>
    </tr>
    <tr>
      <th>cache</th>
      <td><p>[<code>logical(1)</code>]<br />
If <code>TRUE</code> and <code>seed</code> is set, problem instances will be cached on the file system.
This assumes that each problem instance is deterministic for each combination of hyperparameter setting
and each replication number.
This feature is experimental.</p></td>
    </tr>
    <tr>
      <th>reg</th>
      <td><p>[<code><a href='makeExperimentRegistry.html'>ExperimentRegistry</a></code>]<br />
Registry. If not explicitly passed, uses the last created registry.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>[<code>Problem</code>]. Object of class &#8220;Problem&#8221; (invisibly).</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='addAlgorithm.html'>Algorithm</a></code>, <code><a href='addExperiments.html'>addExperiments</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>tmp</span> <span class='kw'>=</span> <span class='fu'><a href='makeExperimentRegistry.html'>makeExperimentRegistry</a></span>(<span class='kw'>file.dir</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>make.default</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; <span class='message'>No configuration file found</span></div><div class='output co'>#&gt; <span class='message'>Created registry in '/var/folders/pj/dcslzytj3t30v_ylpyyfyyl00000gn/T/batchtools-example/reg' using cluster functions 'Interactive'</span></div><div class='input'><span class='fu'>addProblem</span>(<span class='st'>"p1"</span>, <span class='kw'>fun</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>job</span>, <span class='no'>data</span>) <span class='no'>data</span>, <span class='kw'>reg</span> <span class='kw'>=</span> <span class='no'>tmp</span>)</div><div class='output co'>#&gt; <span class='message'>Adding problem 'p1'</span></div><div class='input'><span class='fu'>addProblem</span>(<span class='st'>"p2"</span>, <span class='kw'>fun</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>job</span>, <span class='no'>data</span>) <span class='no'>job</span>, <span class='kw'>reg</span> <span class='kw'>=</span> <span class='no'>tmp</span>)</div><div class='output co'>#&gt; <span class='message'>Adding problem 'p2'</span></div><div class='input'><span class='fu'><a href='addAlgorithm.html'>addAlgorithm</a></span>(<span class='st'>"a1"</span>, <span class='kw'>fun</span> <span class='kw'>=</span> <span class='kw'>function</span>(<span class='no'>job</span>, <span class='no'>data</span>, <span class='no'>instance</span>) <span class='no'>instance</span>, <span class='kw'>reg</span> <span class='kw'>=</span> <span class='no'>tmp</span>)</div><div class='output co'>#&gt; <span class='message'>Adding algorithm 'a1'</span></div><div class='input'><span class='fu'><a href='addExperiments.html'>addExperiments</a></span>(<span class='kw'>repls</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>reg</span> <span class='kw'>=</span> <span class='no'>tmp</span>)</div><div class='output co'>#&gt; <span class='message'>Adding 2 experiments ('p1'[1] x 'a1'[1] x repls[2]) ...</span></div><div class='output co'>#&gt; <span class='message'>Adding 2 experiments ('p2'[1] x 'a1'[1] x repls[2]) ...</span></div><div class='input'>
<span class='co'># List problems, algorithms and job parameters:</span>
<span class='no'>tmp</span>$<span class='no'>problems</span></div><div class='output co'>#&gt; [1] "p1" "p2"</div><div class='input'><span class='no'>tmp</span>$<span class='no'>algorithms</span></div><div class='output co'>#&gt; [1] "a1"</div><div class='input'><span class='fu'><a href='getJobTable.html'>getJobPars</a></span>(<span class='kw'>reg</span> <span class='kw'>=</span> <span class='no'>tmp</span>)</div><div class='output co'>#&gt;    job.id problem prob.pars algorithm algo.pars
#&gt;     &lt;int&gt;  &lt;char&gt;    &lt;list&gt;    &lt;char&gt;    &lt;list&gt;
#&gt; 1:      1      p1    &lt;list&gt;        a1    &lt;list&gt;
#&gt; 2:      2      p1    &lt;list&gt;        a1    &lt;list&gt;
#&gt; 3:      3      p2    &lt;list&gt;        a1    &lt;list&gt;
#&gt; 4:      4      p2    &lt;list&gt;        a1    &lt;list&gt;</div><div class='input'>
<span class='co'># Remove one problem</span>
<span class='fu'>removeProblems</span>(<span class='st'>"p1"</span>, <span class='kw'>reg</span> <span class='kw'>=</span> <span class='no'>tmp</span>)</div><div class='output co'>#&gt; <span class='message'>Removing Problem 'p1' and 2 corresponding jobs ...</span></div><div class='input'>
<span class='co'># List problems and algorithms:</span>
<span class='no'>tmp</span>$<span class='no'>problems</span></div><div class='output co'>#&gt; [1] "p2"</div><div class='input'><span class='no'>tmp</span>$<span class='no'>algorithms</span></div><div class='output co'>#&gt; [1] "a1"</div><div class='input'><span class='fu'><a href='getJobTable.html'>getJobPars</a></span>(<span class='kw'>reg</span> <span class='kw'>=</span> <span class='no'>tmp</span>)</div><div class='output co'>#&gt;    job.id problem prob.pars algorithm algo.pars
#&gt;     &lt;int&gt;  &lt;char&gt;    &lt;list&gt;    &lt;char&gt;    &lt;list&gt;
#&gt; 1:      3      p2    &lt;list&gt;        a1    &lt;list&gt;
#&gt; 2:      4      p2    &lt;list&gt;        a1    &lt;list&gt;</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Michel Lang, Bernd Bischl.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>

