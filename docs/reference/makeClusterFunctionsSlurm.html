<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>ClusterFunctions for Slurm Systems — makeClusterFunctionsSlurm • batchtools</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">batchtools</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/batchtools.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/mllg/batchtools">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>ClusterFunctions for Slurm Systems</h1>
    </div>

    
    <p>Cluster functions for Slurm (<a href='http://slurm.schedmd.com/'>http://slurm.schedmd.com/</a>).</p>
<p>Job files are created based on the brew template <code>template.file</code>. This
file is processed with brew and then submitted to the queue using the
<code>sbatch</code> command. Jobs are killed using the <code>scancel</code> command and
the list of running jobs is retrieved using <code>squeue</code>. The user must
have the appropriate privileges to submit, delete and list jobs on the
cluster (this is usually the case).</p>
<p>The template file can access all resources passed to <code><a href='submitJobs.html'>submitJobs</a></code>
as well as all variables stored in the <code><a href='JobCollection.html'>JobCollection</a></code>.
It is the template file's job to choose a queue for the job and handle the desired resource
allocations.</p>
<p>Note that you might have to specify the cluster name here if you do not want to use the default,
otherwise the commands for listing and killing jobs will not work.</p>
    

    <pre class="usage"><span class='fu'>makeClusterFunctionsSlurm</span>(<span class='kw'>template</span> <span class='kw'>=</span> <span class='st'>"slurm"</span>, <span class='kw'>clusters</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>array.jobs</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>nodename</span> <span class='kw'>=</span> <span class='st'>"localhost"</span>, <span class='kw'>scheduler.latency</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>fs.latency</span> <span class='kw'>=</span> <span class='fl'>65</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>template</th>
      <td><p>[<code>character(1)</code>]
Either a path to a <span class="pkg">brew</span> template file (with extension &#8220;tmpl&#8221;), or a short descriptive name enabling the following heuristic for the file lookup:</p><ol>
<li><p>&#8220;batchtools.[template].tmpl&#8221; in the path specified by the environment variable &#8220;R_BATCHTOOLS_SEARCH_PATH&#8221;.</p></li>
<li><p>&#8220;batchtools.[template].tmpl&#8221; in the current working directory.</p></li>
<li><p>&#8220;[template].tmpl&#8221; in the user config directory (see <code><a href='http://www.rdocumentation.org/packages/rappdirs/topics/user_data_dir'>user_config_dir</a></code>); on linux this is usually &#8220;~/.config/batchtools/[template].tmpl&#8221;.</p></li>
<li><p>&#8220;.batchtools.[template].tmpl&#8221; in the home directory.</p></li>
<li><p>&#8220;[template].tmpl&#8221; in the package installation directory in the subfolder &#8220;templates&#8221;.</p></li>
</ol><p>Here, the default for <code>template</code> is &#8220;slurm&#8221;.
Alternatively, the template itself can be provided directly as a string which is then passed to <span class="pkg">brew</span>.
The string must include at least on newline (&#8220;\n&#8221;) in this case.</p></td>
    </tr>
    <tr>
      <th>clusters</th>
      <td><p>[<code>character(1)</code>]
If multiple clusters are managed by one Slurm system, the name of one cluster has to be specified.
If only one cluster is present, this argument may be omitted.
Note that you should not select the cluster in your template file via <code>#SBATCH --clusters</code>.</p></td>
    </tr>
    <tr>
      <th>array.jobs</th>
      <td><p>[<code>logical(1)</code>]
If array jobs are disabled on the computing site, set to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>nodename</th>
      <td><p>[<code>character(1)</code>]
Nodename of the master. All commands are send via SSH to this host. Only works iff</p><ol>
<li><p>Passwordless authentication (e.g., via SSH public key authentication) is set up.</p></li>
<li><p>The file directory is shared across machines, e.g. mounted via SSHFS.</p></li>
<li><p>The absolute path to the <code>file.dir</code> are identical on the machines, or paths are provided relative to the
    home directory.</p></li>
</ol></td>
    </tr>
    <tr>
      <th>scheduler.latency</th>
      <td><p>[<code>numeric(1)</code>]
Time to sleep after important interactions with the scheduler to ensure a sane state.
Currently only triggered after calling <code><a href='submitJobs.html'>submitJobs</a></code>.</p></td>
    </tr>
    <tr>
      <th>fs.latency</th>
      <td><p>[<code>numeric(1)</code>]
Expected maximum latency of the file system, in seconds.
Set to a positive number for network file systems like NFS which enables more robust (but also more expensive) mechanisms to
access files and directories.
Usually safe to set to <code>NA</code> to disable the heuristic, e.g. if you are working on a local file system.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>[<code><a href='makeClusterFunctions.html'>ClusterFunctions</a></code>].</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p>Other ClusterFunctions: <code><a href='makeClusterFunctionsDocker.html'>makeClusterFunctionsDocker</a></code>,
  <code><a href='makeClusterFunctionsInteractive.html'>makeClusterFunctionsInteractive</a></code>,
  <code><a href='makeClusterFunctionsLSF.html'>makeClusterFunctionsLSF</a></code>,
  <code><a href='makeClusterFunctionsMulticore.html'>makeClusterFunctionsMulticore</a></code>,
  <code><a href='makeClusterFunctionsOpenLava.html'>makeClusterFunctionsOpenLava</a></code>,
  <code><a href='makeClusterFunctionsSGE.html'>makeClusterFunctionsSGE</a></code>,
  <code><a href='makeClusterFunctionsSSH.html'>makeClusterFunctionsSSH</a></code>,
  <code><a href='makeClusterFunctionsSocket.html'>makeClusterFunctionsSocket</a></code>,
  <code><a href='makeClusterFunctionsTORQUE.html'>makeClusterFunctionsTORQUE</a></code>,
  <code><a href='makeClusterFunctions.html'>makeClusterFunctions</a></code></p>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Michel Lang, Bernd Bischl.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
